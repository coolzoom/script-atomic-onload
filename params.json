{"name":"script-atomic-onload","tagline":"Test every script loader for correct, atomic onload support","body":"[![Build Status][script-atomic-onload_img]][travis]\r\n\r\nYour script loader probably doesn’t have the callback behavior you want.\r\n\r\nUsing a popular library?\r\n\r\n[![curl.js Status][curl_img]][travis]\r\n[![HeadJS Status][headjs_img]][travis]\r\n[![jQuery Status][jquery_img]][travis]\r\n[![LABjs Status][labjs_img]][travis]\r\n[![RequireJS Status][requirejs_img]][travis]\r\n[![$script.js Status][scriptjs_img]][travis]\r\n[![yepnope Status][yepnope_img]][travis]\r\n[![YUI Status][yui_img]][travis]\r\n\r\nOr perhaps one of these lesser-known packages?\r\n\r\n[![getscript Status][getscript_img]][travis]\r\n[![JSL Status][jsl_img]][travis]\r\n[![kist-loader Status][kist-loader_img]][travis]\r\n[![l.js Status][ljs_img]][travis]\r\n[![LazyLoad Status][lazyload_img]][travis]\r\n[![load-script Status][load-script_img]][travis]\r\n[![loadrunner Status][loadrunner_img]][travis]\r\n[![loads-js Status][loads-js_img]][travis]\r\n[![NBL Status][nbl_img]][travis]\r\n[![script-load Status][script-load_img]][travis]\r\n[![scriptinclude Status][scriptinclude_img]][travis]\r\n[![scriptload Status][scriptload_img]][travis]\r\n[![toast Status][toast_img]][travis]\r\n\r\nSorry.\r\n\r\nIntroducing…\r\n\r\n# script-atomic-onload\r\n\r\nA build matrix of every script loader ever made.\r\n\r\nThis project tests script loaders for atomic `onload` support, which is the\r\nonly correct behavior. It also contains a reference implementation, which has\r\nbeen adopted in the production-ready [little-loader][little-loader] module.\r\n\r\n[![little-loader Status][little-loader_img]][travis]\r\n\r\n:trophy: **[little-loader][little-loader] is the only correct script loader ever made.**\r\n\r\n\r\n### The only correct behavior…\r\n\r\nYes, calling `onload` *immediately* (aka synchronously or atomically) after a\r\n`<script>` has executed is the correct and officially defined behavior. So\r\nwhat’s the problem? **Internet Explorer.** Below version 10, getting this\r\nbehavior requires you jump through some hoops. Some script loaders just don’t\r\ntry; for example, [jQuery’s `getScript`][jquery] does not make this\r\nguarantee, documenting that “The callback is fired once the script has been\r\nloaded but not necessarily executed.” Those that do try often try *very hard*\r\nand end up being far too clever and still incorrect.\r\n\r\nIf you haven’t designed for it by bundling all your code or using a system\r\nlike AMD, having other code run in between your script and its `onload`\r\ncallback can be potentially disastrous. For instance, let’s say you make a\r\nwidget people can load on their site, and it relies on jQuery. You want to load\r\njQuery from a CDN. But since your widget might be used on sites that already\r\nuse jQuery, you need to use `jQuery.noConflict` to keep yours isolated. When\r\nyou load your version of jQuery in IE, it’s possible other code on the page can\r\nsee it before your `onload` callback fires. Any code can then modify your\r\ninstance of jQuery, adding plugins and such (most likely mistaking it for a\r\ndifferent instance of jQuery). Eventually your `noConflict` gets called, but\r\nit’s too late – the plugins are attached to the wrong jQuery instance. This is\r\nnot a problem with jQuery, but with the script loader.\r\n\r\nThis particular implementation may not be widely adopted, but it has been\r\nbattle-tested on many high-traffic, script-laden sites in production. Just\r\nbecause you’ve never had an issue with your script loader, doesn’t mean it’s\r\ncorrect! One particular issue that this loader resolved was only ever seen on\r\none site, and only sometimes (when certain race conditions were triggered).\r\n\r\n## Reference Implementation\r\n\r\n### Install\r\n\r\n```sh\r\nnpm install script-atomic-onload\r\n```\r\n\r\n### Usage\r\n\r\n```javascript\r\nloadScript(src[, callback, thisValue])\r\n```\r\n\r\nArguments:\r\n\r\n* `src`: The URL of the script to load.\r\n* `callback`: The function to call immediately after the script has executed. It\r\n  will be called with no arguments, but we reserve the right to pass an `err`\r\n  parameter in future versions. (Load errors can be difficult to detect on\r\n  cross-domain scripts in older versions of IE anyway.)\r\n* `thisValue`: The `this` value that your `callback` will receive.\r\n\r\n### Examples\r\n\r\n```javascript\r\nvar loadScript = require(\"script-atomic-onload\");\r\n\r\nloadScript(\"https://code.jquery.com/jquery-1.11.3.min.js\", function() {\r\n  var jQuery = window.jQuery.noConflict(true);\r\n  // We’re guaranteed to have an instance of jQuery that no other script on the\r\n  // page has extended or modified.\r\n});\r\n```\r\n\r\n## I don’t support old IE anyway, am I safe?\r\n\r\nMaybe! Have a look at the results from our build matrix:\r\n\r\nLibrary | Browser Status\r\n------: | --------------\r\n:trophy: **[little-loader][]** | [![little-loader Browser Status][little-loader_browsers_img]][travis]\r\n[curl.js][curl] | [![curl.js Browser Status][curl_browsers_img]][travis]\r\n[HeadJS][headjs] | [![HeadJS Browser Status][headjs_browsers_img]][travis]\r\n[jQuery][jquery] | [![jQuery Browser Status][jquery_browsers_img]][travis]\r\n[LABjs][labjs] | [![LABjs Browser Status][labjs_browsers_img]][travis]\r\n[RequireJS][requirejs] | [![RequireJS Browser Status][requirejs_browsers_img]][travis]\r\n[$script.js][scriptjs] | [![$script.js Browser Status][scriptjs_browsers_img]][travis]\r\n[yepnope][] | [![yepnope Browser Status][yepnope_browsers_img]][travis]\r\n[YUI][yui] | [![YUI Browser Status][yui_browsers_img]][travis]\r\n[getscript][] | [![getscript Browser Status][getscript_browsers_img]][travis]\r\n[JSL][jsl] | [![JSL Browser Status][jsl_browsers_img]][travis]\r\n[kist-loader][] | [![kist-loader Browser Status][kist-loader_browsers_img]][travis]\r\n[l.js][ljs] | [![l.js Browser Status][ljs_browsers_img]][travis]\r\n[LazyLoad][lazyload] | [![LazyLoad Browser Status][lazyload_browsers_img]][travis]\r\n[load-script][] | [![load-script Browser Status][load-script_browsers_img]][travis]\r\n[loadrunner][] | [![loadrunner Browser Status][loadrunner_browsers_img]][travis]\r\n[loads-js][] | [![loads-js Browser Status][loads-js_browsers_img]][travis]\r\n[NBL][nbl] | [![NBL Browser Status][nbl_browsers_img]][travis]\r\n[script-load][] | [![script-load Browser Status][script-load_browsers_img]][travis]\r\n[scriptinclude][] | [![scriptinclude Browser Status][scriptinclude_browsers_img]][travis]\r\n[scriptload][] | [![scriptload Browser Status][scriptload_browsers_img]][travis]\r\n[toast][] | [![toast Browser Status][toast_browsers_img]][travis]\r\n\r\n[script-atomic-onload_img]: https://img.shields.io/travis/exogen/script-atomic-onload/master.svg\r\n[curl_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=curl&label=curl.js\r\n[getscript_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=getscript&label=getscript\r\n[headjs_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=headjs&label=HeadJS\r\n[jquery_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=jquery&label=jQuery\r\n[jsl_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=jsl&label=JSL\r\n[kist-loader_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=kist-loader&label=kist-loader\r\n[labjs_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=labjs&label=LABjs\r\n[lazyload_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=lazyload&label=LazyLoad\r\n[little-loader_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=little-loader&label=little-loader\r\n[ljs_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=ljs&label=l.js\r\n[load-script_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=load-script&label=load-script\r\n[loadrunner_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=loadrunner&label=loadrunner\r\n[loads-js_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=loads-js&label=loads-js\r\n[nbl_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=nbl&label=NBL\r\n[requirejs_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=requirejs&label=RequireJS\r\n[script-load_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=script-load&label=script-load\r\n[scriptinclude_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=scriptinclude&label=ScriptInclude\r\n[scriptjs_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=scriptjs&label=$script.js\r\n[scriptload_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=scriptload&label=scriptload\r\n[toast_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=toast&label=toast\r\n[yepnope_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=yepnope&label=yepnope\r\n[yui_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload?branch=master&env=TEST_LOADER=yui&label=YUI\r\n\r\n[script-atomic-onload_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=script-atomic-onload\r\n[curl_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=curl\r\n[getscript_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=getscript\r\n[headjs_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=headjs\r\n[jquery_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=jquery\r\n[jsl_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=jsl\r\n[kist-loader_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=kist-loader\r\n[labjs_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=labjs\r\n[lazyload_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=lazyload\r\n[little-loader_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=little-loader\r\n[ljs_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=ljs\r\n[load-script_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=load-script\r\n[loadrunner_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=loadrunner\r\n[loads-js_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=loads-js\r\n[nbl_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=nbl\r\n[requirejs_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=requirejs\r\n[script-load_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=script-load\r\n[scriptinclude_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=scriptinclude\r\n[scriptjs_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=scriptjs\r\n[scriptload_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=scriptload\r\n[toast_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=toast\r\n[yepnope_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=yepnope\r\n[yui_browsers_img]: http://badges.herokuapp.com/travis/exogen/script-atomic-onload/sauce/script-atomic-onload?name=yui\r\n\r\n[travis]: https://travis-ci.org/exogen/script-atomic-onload\r\n\r\n[curl]: https://github.com/cujojs/curl\r\n[getscript]: https://www.npmjs.com/package/getscript\r\n[headjs]: http://headjs.com/\r\n[jquery]: https://api.jquery.com/jquery.getscript\r\n[jsl]: http://www.andresvidal.com/jsl\r\n[kist-loader]: https://www.npmjs.com/package/kist-loader\r\n[labjs]: http://labjs.com/\r\n[lazyload]: https://github.com/rgrove/lazyload\r\n[little-loader]: https://github.com/walmartlabs/little-loader\r\n[ljs]: http://malko.github.io/l.js/\r\n[load-script]: https://www.npmjs.com/package/load-script\r\n[loadrunner]: https://github.com/danwrong/loadrunner\r\n[loads-js]: https://www.npmjs.com/package/loads-js\r\n[nbl]: http://berklee.github.io/nbl/\r\n[requirejs]: http://requirejs.org/\r\n[scriptjs]: https://github.com/ded/script.js\r\n[scriptload]: https://www.npmjs.com/package/scriptload\r\n[script-load]: https://www.npmjs.com/package/script-load\r\n[scriptinclude]: https://www.npmjs.com/package/scriptinclude\r\n[toast]: https://www.npmjs.com/package/pyrsmk-toast\r\n[yepnope]: https://github.com/SlexAxton/yepnope.js\r\n[yui]: http://yuilibrary.com/yui/docs/get/\r\n","google":"UA-681936-7","note":"Don't delete this file! It's used internally to help with page regeneration."}